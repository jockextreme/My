<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pinoy IPTV - Free Philippine Channels</title>
    <link href="https://cdn.jsdelivr.net/npm/video.js@7.8.4/dist/video-js.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #e74c3c;
            --secondary: #2c3e50;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #1a1a1a;
            color: #fff;
        }

        header {
            background: var(--secondary);
            padding: 1rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        .player-wrapper {
            position: relative;
            margin: 2rem 0;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }

        .channel-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .channel-card {
            background: #2d2d2d;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }

        .channel-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.4);
        }

        .channel-thumbnail {
            width: 100%;
            height: 160px;
            object-fit: cover;
            border-bottom: 3px solid var(--primary);
        }

        .channel-info {
            padding: 1rem;
        }

        .search-box {
            width: 100%;
            padding: 1rem;
            background: #333;
            border: none;
            color: #fff;
            border-radius: 5px;
            margin: 1rem 0;
        }

        .quality-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background: var(--primary);
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 0.8em;
        }

        .footer {
            background: var(--secondary);
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
        }

        @media (max-width: 768px) {
            .channel-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>üì∫ Pinoy IPTV</h1>
    </header>

    <div class="container">
        <input type="text" class="search-box" placeholder="Search channels..." id="searchInput">

        <div class="player-wrapper">
            <video id="player" class="video-js vjs-default-skin" controls preload="auto"></video>
        </div>

        <div class="channel-grid" id="channelList"></div>
    </div>

    <div class="footer">
        <p>‚ö†Ô∏è Disclaimer: This service provides access to publicly available streams for educational purposes only.</p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/video.js@7.8.4/dist/video.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/videojs-contrib-hls@5.15.0/dist/videojs-contrib-hls.min.js"></script>
    <script>
        const player = videojs('player', {
            fluid: true,
            responsive: true,
            playbackRates: [0.5, 1, 1.25, 1.5, 2]
        });

        const channels = parseM3U(`#EXTM3U
#EXTINF:-1 tvg-id="A2Z.ph",A2Z (360p) [Not 24/7]
https://qp-pldt-live-grp-02-prod.akamaized.net/out/u/tv5.m3u8
#EXTINF:-1 tvg-id="ANC.ph",ANC (720p)
https://ancglobal-abscbn-ono.amagi.tv/playlist720_p.m3u8
#EXTINF:-1 tvg-id="CCTN47.ph",CCTN 47 (1080p) [Not 24/7]
http://122.55.252.134:8443/live/bba5b536faeacb9b56a3239f1ee8e3b3/1.m3u8
#EXTINF:-1 tvg-id="CineMo.ph",Cine Mo! (720p)
https://cinemo-abscbn-ono.amagi.tv/playlist.m3u8
#EXTINF:-1 tvg-id="CinemaOne.ph",Cinema One (1080p)
https://cinemaone-abscbn-ono.amagi.tv/index.m3u8
#EXTINF:-1 tvg-id="CLTV36.ph",CLTV 36 (720p) [Not 24/7]
https://live.cltv36.tv:5443/LiveApp/streams/cltvlive.m3u8
#EXTINF:-1 tvg-id="DepEdTV.ph",DepEd TV (480p) [Geo-blocked]
https://d3cbe0gidjd4k2.cloudfront.net/channel_7/channel7/playlist.m3u8
#EXTINF:-1 tvg-id="GreatCommissionTV.ph",Great Commission TV (468p)
http://45.32.115.103/live/livestream/index.m3u8
#EXTINF:-1 tvg-id="INCTV.ph",INC TV (720p) (720p) [Geo-blocked]
https://199211.global.ssl.fastly.net/643cc12aa824db4374021c8c/live_95f6ac80dd6511ed9d08b12be56ae55e/index.m3u8
#EXTINF:-1 tvg-id="Myx.ph",Myx (720p)
https://myxnola-abscbn-ono.amagi.tv/index.m3u8
#EXTINF:-1 tvg-id="DZBBDT1.ph",Super Radyo DZBB (720p) [Not 24/7]
https://stream.gmanews.tv/ioslive/livestream/playlist.m3u8
#EXTINF:-1 tvg-id="TeleRadyo.ph",Teleradyo Serbisyo (720p) [Not 24/7]
https://teleradyo-abscbn-ono.amagi.tv/playlist720_p.m3u8`);

        function parseM3U(data) {
            const channels = [];
            const lines = data.split('\n');
            
            for(let i = 0; i < lines.length; i++) {
                if(lines[i].startsWith('#EXTINF')) {
                    const infoLine = lines[i];
                    const name = infoLine.split(/,(.+)/)[1].trim();
                    const url = lines[++i].trim();
                    const resolution = name.match(/\d{3,4}p/)?.[0] || 'HD';
                    const logo = infoLine.match(/tvg-logo="(.+?)"/)?.[1] || 'https://via.placeholder.com/200x120?text=No+Logo';
                    
                    channels.push({
                        name: name,
                        url: url,
                        logo: logo,
                        resolution: resolution
                    });
                }
            }
            return channels;
        }

        function renderChannels(filteredChannels) {
            const container = document.getElementById('channelList');
            container.innerHTML = '';
            
            filteredChannels.forEach(channel => {
                const card = document.createElement('div');
                card.className = 'channel-card';
                card.innerHTML = `
                    <div class="quality-badge">${channel.resolution}</div>
                    <img src="${channel.logo}" class="channel-thumbnail" alt="${channel.name}">
                    <div class="channel-info">
                        <h3>${channel.name}</h3>
                    </div>
                `;
                
                card.addEventListener('click', () => playChannel(channel));
                container.appendChild(card);
            });
        }

        function playChannel(channel) {
            player.src({ src: channel.url, type: 'application/x-mpegURL' });
            player.play();
            document.title = `üì∫ ${channel.name} - Pinoy IPTV`;
        }

        // Search functionality
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const term = e.target.value.toLowerCase();
            const filtered = channels.filter(channel => 
                channel.name.toLowerCase().includes(term)
            );
            renderChannels(filtered);
        });

        // Initial render
        renderChannels(channels);
    </script>
</body>
</html>
